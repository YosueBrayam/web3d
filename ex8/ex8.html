<!DOCTYPE html>
<html lang="ca">
  <head>
    <meta charset="UTF-8" />
    <title>Escape Room - M√≥n 1: Aula de 1r d'ESO</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>
    <script>
      window.onload = function () {
        // Objecte interactiu: clau
        document.querySelector("#clau").addEventListener("click", () => {
          alert("üîë Has trobat una clau! Pista: smix.cat/pista1");
        });

        // Porta amb pregunta
        document.querySelector("#porta").addEventListener("click", () => {
          let resposta = prompt("üß† Com es pot unir un client al domini?");
          if (resposta.toLowerCase().includes("netdom") || resposta.toLowerCase().includes("active directory")) {
            alert("‚úÖ Correcte! Has obert la porta al seg√ºent m√≥n.");
            window.location.href = "mon2.html"; // Canvia a la seg√ºent escena
          } else {
            alert("‚ùå Incorrecte. Torna-ho a intentar.");
          }
        });
      };
    </script>
  </head>
  <body>
    <a-scene cursor="rayOrigin: mouse">
      <a-assets>
        <img id="fons" src="imatges/aula.jpg" />
        <img id="terra" src="imatges/suelo.jpg" />
        <img id="llibreta" src="imatges/llibreta.png" />
      </a-assets>

      <a-sky src="#fons"></a-sky>
      <a-plane position="0 0 0" rotation="-90 0 0" width="100" height="100" src="#terra"></a-plane>

      <!-- Objecte clau amagada -->
      <a-box id="clau" position="2 1 -4" color="orange" depth="0.5" height="0.5" width="0.5"
             event-set__enter="_event: mouseenter; color: yellow"
             event-set__leave="_event: mouseleave; color: orange">
      </a-box>

      <!-- Objecte decoratiu (llibreta) -->
      <a-box position="-1 1 -3" src="#llibreta" width="1" height="0.2" depth="1"></a-box>

      <!-- Porta amb pregunta -->
      <a-box id="porta" position="0 2 -10" width="2" height="4" depth="0.5" color="brown"
             event-set__enter="_event: mouseenter; color: #552200"
             event-set__leave="_event: mouseleave; color: brown">
      </a-box>

      <!-- Personatge flotant de Pere Llu√≠s -->
      <a-sphere position="0 5 -5" radius="1.5" color="#ff0000"
                animation="property: position; to: 0 6 -5; dur: 2000; dir: alternate; loop: true"
                animation__color="property: material.color; to: blue; dur: 2000; dir: alternate; loop: true">
      </a-sphere>
    </a-scene>
  </body>
</html>
