<!DOCTYPE html>
<html>
  <head>
    <title>Passadís dels misteris</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://castelletm12b.cat/build/assets/question.js" defer></script>

  </head>
  <body>
    <a-scene cursor="rayOrigin: mouse">
      <a-assets>
        <img id="porta" src="/ex8/assets/door.PNG">   
        <a-asset-item id="hallway" src="assets/hallway.glb"></a-asset-item>
        <a-asset-item id="ghost" src="assets/ghost.glb"></a-asset-item>
        <audio id="flicker-sound" src="assets/sounds/flicker.mp3"></audio>
      </a-assets>

      <!-- Pasillo -->
      <a-entity question="99" gltf-model="#hallway" position="0 -5 0" scale="5 5 5"></a-entity>

    
      <a-entity gltf-model="#ghost" position="0.164 -3.401 -29.559" scale="0.060 0.060 0.111" opacity="0"></a-entity>
  

      <!-- Luces que parpadean -->
      <a-entity light="type: point; color: #ffffff; intensity: 20; distance: 50" position="0 10 -20" animation="property: light.intensity; to: 0; dur: 500; dir: alternate; loop: true"></a-entity>

      <!-- Música o ambiente -->
      <a-sound src="#flicker-sound" autoplay="true" loop="true" volume="0.5"></a-sound>

      <!-- Cámara del jugador -->
      <a-camera position="0 1.6 0"></a-camera>

      <a-entity gltf-model="#ghost"
          position="0.164 -3.401 -29.559"
          scale="0.060 0.060 0.111"
          opacity="0"
          animation-mixer="clip: Take 001">
</a-entity>
<a-plane question="100" position="0.164 -3.401 -29.559" rotation="0 -260 0" scale="10 10 10" src="#porta" transparent="true" mylink="href: mon3.html ;"></a-plane>

    </a-scene>
  </body>
</html>